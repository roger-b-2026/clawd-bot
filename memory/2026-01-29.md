# 2026-01-29 - ComfyUI Photorealistic Workflow

## SDXL Base + Refiner Pipeline for Lifelike Quality

### Key Discovery
Stability AI recommends a **2-stage pipeline** for best photorealistic results:
1. **Pass 1 (Base):** SDXL Base model → 40-50 steps, CFG 5-6
2. **Pass 2 (Refine):** SDXL Refiner model → 20-30 steps, denoise 0.3-0.4

### Optimal Settings for Photorealism
| Parameter | Value |
|-----------|-------|
| Resolution | 1024x1024 (not 768x768) |
| Steps | 40-50 |
| CFG | 5-6 |
| Sampler | dpmpp_2m or euler_ancestral |
| Scheduler | karras |

### Photorealistic Prompt Keywords
```
photorealistic, dslr, soft lighting, high quality, film grain, Fujifilm XT3, 8k uhd, hyperrealistic, lifelike, natural skin texture, realistic eyes, detailed pores, natural lighting, cinematic composition
```

### Negative Prompt Keywords (Anti-Artifacts)
```
cartoon, anime, illustration, painting, drawing, art, artificial, plastic skin, airbrushed, smooth skin, mannequin, doll-like, cgi, 3d render, overexposed, underexposed
```

### Files Created/Updated
- `/Users/rogerb/clawd/models/character_prompts.md` - Added photorealistic keywords to all prompts
- `/Users/rogerb/clawd/workflows/base_refiner_workflow.json` - New workflow combining Base + Refiner + Upscale

### Model Download Needed
```bash
cd /workspace/runpod-slim/ComfyUI/models/checkpoints
wget -L "https://huggingface.co/stabilityai/stable-diffusion-xl-refiner-1.0/resolve/main/sd_xl_refiner_1.0.safetensors" -O SDXL_Refiner.safetensors
```

### UltimateSDUpscale Parameters (Fixed)
| Field | Correct Value |
|-------|---------------|
| Mode type | Linear (not 0) |
| Seams fix type | Half tile offset |
| Sampler | euler_ancestral (not euler_a) |
| Scheduler | normal |
| upscale_model | Connect from Load Upscale Model node |
